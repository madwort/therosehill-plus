{"version":3,"file":"blocks/events/event-search.js","mappings":"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","sources":["webpack://therosehill-plus/./src/blocks/events/event-search.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\n    // Toggle for search form\n    const searchToggle = document.getElementById('search-toggle');\n\n    searchToggle.addEventListener('click', function() {\n        this.classList.toggle('open');\n    });\n\n    // Field filled out background\n    const formElements = document.querySelectorAll('#event-search-form select, #event-search-form input[type=\"text\"]');\n\n    formElements.forEach(element => {\n        checkValue(element);\n\n        element.addEventListener('change', function() {\n            checkValue(this);\n        });\n\n        if (element.type === \"text\") {\n            element.addEventListener('input', function() {\n                checkValue(this);\n            });\n        }\n    });\n\n    function checkValue(element) {\n        if (element.value !== '') {\n            element.classList.add('filled');\n        } else {\n            element.classList.remove('filled');\n        }\n    }\n\n    // Form functions\n    const form = document.getElementById('event-search-form');\n    const clearAllButton = document.querySelector('button[type=\"reset\"]');\n\n    form.addEventListener('submit', function(e) {\n        e.preventDefault();\n        submitForm();\n    });\n\n    clearAllButton.addEventListener('click', function(e) {\n        e.preventDefault();\n        resetFormAndUrl();\n    });\n\n    document.querySelectorAll('.clear-field').forEach(function(clearButton) {\n        clearButton.addEventListener('click', function() {\n            const inputWrapper = this.closest('.input-wrapper');\n            const input = inputWrapper.querySelector('input, select');\n            if (input) {\n                if (input.tagName.toLowerCase() === 'input') {\n                    input.value = '';\n                } else if (input.tagName.toLowerCase() === 'select') {\n                    input.selectedIndex = 0;\n                }\n                submitForm();\n            }\n        });\n    });\n\n    function submitForm() {\n        const formData = new FormData(form);\n        const searchData = {};\n\n        for (const pair of formData.entries()) {\n            if (pair[1].trim() !== '') {\n                searchData[pair[0]] = pair[1].trim();\n            }\n        }\n\n        const queryString = new URLSearchParams(searchData).toString();\n        const baseUrl = window.location.protocol + \"//\" + window.location.host + window.location.pathname;\n        window.location.href = baseUrl + (queryString ? '?' + queryString : '');\n    }\n\n    function resetFormAndUrl() {\n        form.reset();\n        const baseUrl = window.location.protocol + \"//\" + window.location.host + window.location.pathname;\n        window.location.href = baseUrl;\n    }\n});\n"],"names":["document","addEventListener","searchToggle","getElementById","classList","toggle","formElements","querySelectorAll","forEach","element","checkValue","type","value","add","remove","form","clearAllButton","querySelector","e","preventDefault","submitForm","resetFormAndUrl","clearButton","inputWrapper","closest","input","tagName","toLowerCase","selectedIndex","formData","FormData","searchData","pair","entries","trim","queryString","URLSearchParams","toString","baseUrl","window","location","protocol","host","pathname","href","reset"],"sourceRoot":""}